# Google Play Console 구독 상품 설정 가이드

## 1. Google Play Console 접속

1. [Google Play Console](https://play.google.com/console) 접속
2. Stand 앱 선택

## 2. 구독 상품 생성

### 2.1 수익 창출 > 제품 > 구독 메뉴 이동

1. 좌측 메뉴에서 **수익 창출** > **제품** > **구독** 클릭
2. **구독 만들기** 버튼 클릭

### 2.2 구독 상품 정보 입력

| 항목 | 값 |
|------|-----|
| **제품 ID** | `standsubscriptionmonthly` |
| **이름** | Stand 월간 구독 |
| **설명** | 매일 목표 달성으로 건강한 습관을 만들고, 달성률에 따라 크레딧을 받으세요! |

### 2.3 기본 요금제 설정

**요금제 만들기** 클릭 후:

| 항목 | 값 |
|------|-----|
| **요금제 ID** | `monthly-base` |
| **결제 기간** | 1개월 |
| **가격** | ₩4,900 (KRW) |
| **가격** | ¥480 (JPY) |
| **가격** | $3.99 (USD) |

### 2.4 무료 체험 설정 (선택사항)

| 항목 | 값 |
|------|-----|
| **무료 체험** | 3일 |
| **체험 기간** | 3일 |

## 3. 테스트 설정

### 3.1 라이선스 테스터 추가

1. **설정** > **라이선스 테스트** 이동
2. 테스트할 Gmail 계정 추가
3. **라이선스 응답** = `LICENSED`로 설정

### 3.2 내부 테스트 트랙 설정

1. **테스트** > **내부 테스트** 이동
2. **테스터 관리** > 이메일 목록 생성
3. 테스트 계정 추가

## 4. 앱 코드 상품 ID 확인

```kotlin
// BillingManager.kt
companion object {
    const val SUBSCRIPTION_PRODUCT_ID = "standsubscriptionmonthly"
}
```

앱 코드의 `SUBSCRIPTION_PRODUCT_ID`가 Google Play Console의 **제품 ID**와 정확히 일치해야 합니다.

## 5. 결제 테스트

### 5.1 테스트 결제 방법

1. 라이선스 테스터 계정으로 기기 로그인
2. 앱에서 구독 시작
3. **테스트 카드, 항상 승인** 선택
4. 결제 완료 확인

### 5.2 테스트 구독 취소

테스트 구독은 실제 과금되지 않지만, 취소 테스트도 가능:
1. Google Play 스토어 앱 열기
2. **프로필** > **결제 및 정기 결제** > **정기 결제**
3. Stand 구독 선택 후 **정기 결제 취소**

## 6. 프로덕션 출시 전 체크리스트

- [ ] 구독 상품이 **활성** 상태인지 확인
- [ ] 모든 지원 국가의 가격 설정 완료
- [ ] 테스트 결제 성공 확인
- [ ] 구독 갱신/취소 테스트 완료
- [ ] 개인정보처리방침에 구독 관련 내용 추가

## 7. 가격 정책

| 국가 | 가격 | 통화 |
|------|------|------|
| 한국 | 4,900 | KRW |
| 일본 | 480 | JPY |
| 미국 | 3.99 | USD |

## 8. 크레딧 시스템 (앱 내 처리)

Google Play는 항상 정가(4,900원)를 결제합니다.
크레딧 시스템은 앱 내에서 처리됩니다:

| 달성률 | 크레딧 | 실질 부담 |
|--------|--------|-----------|
| 95% 이상 | +4,900 | 무료 |
| 80~95% 미만 | +2,400 | 2,500원 |
| 80% 미만 | 0 | 4,900원 |

## 9. 문제 해결

### "상품을 찾을 수 없습니다" 오류
- 제품 ID가 정확히 일치하는지 확인
- 구독 상품이 **활성** 상태인지 확인
- 앱이 Play 스토어에 업로드되었는지 확인 (최소 내부 테스트 트랙)

### "결제 시스템 연결 실패" 오류
- 기기에서 Google Play 서비스 업데이트
- 네트워크 연결 확인
- Google 계정 재로그인

### 테스트 결제가 실제 결제되는 경우
- 라이선스 테스터 목록에 계정이 등록되어 있는지 확인
- 내부 테스트 트랙에서 앱을 설치했는지 확인
